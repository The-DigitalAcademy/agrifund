<!-- 
    AUTHOR: Ntokozo Radebe.
    CREATE DATE: 24 Jul 2023
    UPDATED DATE: 17 Aug 2023 
 -->
<div class="page-body page-background justify-center">
    <div class="mobile-header"></div>
    <div class="container form-container">
        <!-- Login Form -->
        <form [formGroup]="LoginForm" (ngSubmit)="onSubmit()">
            <!-- Form Row -->
            <div class="row">
                <div class="col-sm-12 loginform">
                    <!-- Container Header -->
                    <div class="container-header">
                        <div class="justify-start">
                            <h1>Login</h1>
                        </div>
                        <div class="justify-end">
                            <!-- Close Button -->
                            <button
                                class="icon-btn btn-icon"
                                [routerLink]="['']">
                                <fa-icon icon="times"></fa-icon>
                            </button>
                        </div>
                    </div>

                    <!-- Email Input -->
                    <div
                        class="form-input"
                        [ngClass]="{
                            'has-success':
                                LoginForm.controls['email'].valid &&
                                LoginForm.controls['email'].dirty,
                            'has-error':
                                LoginForm.controls['email'].invalid &&
                                LoginForm.controls['email'].dirty
                        }">
                        <label for="email">Email:</label>
                        <input
                            formControlName="email"
                            class="form-control"
                            id="emailInput" />
                        <small
                            *ngIf="
                                LoginForm.controls['email'].hasError(
                                    'invalidEmail'
                                ) && LoginForm.controls['email'].dirty
                            "
                            class="text-danger error"
                            >Invalid email format</small
                        >
                        <small
                            *ngIf="
                                LoginForm.controls['email'].hasError(
                                    'required'
                                ) && LoginForm.controls['email'].dirty
                            "
                            class="text-danger"
                            >Field is required.</small
                        >
                    </div>

                    <!-- Password Input -->
                    <div
                        class="form-input"
                        [ngClass]="{
                            'has-success':
                                LoginForm.controls['password'].valid &&
                                LoginForm.controls['password'].dirty,
                            'has-error':
                                LoginForm.controls['password'].invalid &&
                                LoginForm.controls['password'].dirty
                        }">
                        <label for="password">Password:</label>
                        <input
                            formControlName="password"
                            class="form-control between-button"
                            id="passwordinput" />
                        <small
                            *ngIf="
                                LoginForm.controls['password'].hasError(
                                    'invalidPassword'
                                ) && LoginForm.controls['password'].dirty
                            "
                            class="text-danger"
                            >The password should meet minimum length, uppercase,
                            lowercase, and numbers</small
                        >
                        <small
                            *ngIf="
                                LoginForm.controls['password'].hasError(
                                    'required'
                                ) && LoginForm.controls['password'].dirty
                            "
                            class="text-danger"
                            >Field is required.</small
                        >
                    </div>

                    <!-- Submit Button -->
                    <div class="form-group">
                        <button
                            type="submit"
                            [disabled]="!LoginForm.valid"
                            class="btn actions colourful-btn"
                            (click)="onSubmit()" >
                            <fa-icon icon="user"></fa-icon>
                            Login
                        </button>
                    </div>

                    <!-- Forgot Password Link -->
                    <a
                        id="forget"
                        class="font-weight-lighter"
                        routerLink="/reset-password"
                        >Forgot your password?</a
                    >

                    <!-- Register Link -->
                    <div class="text muted">
                        Don't have an account?
                        <a
                            id="forget"
                            class="font-weight-lighter"
                            routerLink="/register"
                            >Register</a
                        >
                    </div>
                </div>
            </div>
            <!-- End of Form Row -->

            <br /><br />
            <p>{{ message }}</p>
        </form>
    </div>
</div>
